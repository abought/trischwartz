function generateCoords(a,t,n){n=n||180-a-t;var r,o,h,u=[a,t,n],e=u.map(function(a){return a*Math.PI/180});if(r=e[0],o=e[1],h=e[2],a+t+n!==180)throw"Angles must add up to 180";u.forEach(function(a){if(0>a||a>180)throw"Specified angle is out of bounds"});var i=1,p=Math.sin(o)/Math.sin(h)*i,M=Math.cos(r)*p,f=Math.sin(r)*p;return[[0,0],[i,0],[M,f]]}function scaleCoords(a){var t,n,r,o,h=a.map(function(a){return a[0]}),u=a.map(function(a){return a[1]});t=Math.min.apply(Math,h),n=Math.max.apply(Math,h),r=Math.min.apply(Math,u),o=Math.max.apply(Math,u);var e=n-t,i=o-r,p=1/Math.max(e,i),M=(n+t)/2,f=(o+r)/2;return a.map(function(a){return[(a[0]-M)*p,(a[1]-f)*p]})}function generateAngles(a,t){t=t||15;for(var n=180-(a||t)-t,r=a?[a]:[];r.length<2;){var o=Math.random()*(n-t)+t;r.push(o),n-=o,n+=t}var h=180-(r[0]+r[1]);return r.push(h),r}
function _coordsToString(t){var e=t.map(function(t){return t.join(",")});return e.join(" ")}function _mergeKeys(t,e){Object.keys(e).forEach(function(r){t.hasOwnProperty(r)||(t[r]=e[r])})}function _setAttrs(t,e){Object.keys(e).forEach(function(r){var n=e[r];t.setAttributeNS(null,r,n)})}function constructPolygon(t,e){e=e||{};var r={points:_coordsToString(t),stroke:"green","stroke-width":.05,fill:"transparent",transform:"rotate(180)"};_mergeKeys(e,r);var n=document.createElementNS(svgNS,"polygon");return _setAttrs(n,e),n}function constructRect(t){t=t||{};var e={height:2,width:2,x:-1,y:-1,"stroke-width":.05,stroke:"#CCCCCC",fill:"transparent"};_mergeKeys(t,e);var r=document.createElementNS(svgNS,"rect");return _setAttrs(r,t),r}function createSvgContainer(t){t=t||{};var e={viewBox:"-1 -1 2 2",preserveAspectRatio:"xMinYMin"};_mergeKeys(t,e);var r=document.createElementNS(svgNS,"svg");return _setAttrs(r,t),r}var svgNS="http://www.w3.org/2000/svg";